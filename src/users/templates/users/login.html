{% extends 'main/base.html' %}
{% load static %}

{% block title %}Page d'Accueil{% endblock %}
{% block description %}Connectez-vous à votre compte pour accéder à toutes les fonctionnalités et services. Saisissez vos identifiants pour une connexion sécurisée.{% endblock %}

{% block content %}
{% load socialaccount %}
<h1>Login</h1>
{% if messages %}
        <div class="messages">
            {% for message in messages %}
                {% if message.tags == "error" %}
                    <div class="alert {{ message.tags }}">
                        {{ message }}
                    </div>
                {% endif %}
            {% endfor %}
        </div>
    {% endif %}
<!-- Formulaire de connexion classique -->
        <form method="post">
            {% csrf_token %}
             <!-- Champ caché pour gérer le paramètre 'next' -->
            {% if next %}
                <input type="hidden" name="next" value="{{ next }}">
            {% endif %}
            <label for="email">Email</label>
            <input type="text" name="email" id="email" placeholder="Entrez votre email">

            <label for="password">Mot de passe</label>
            <input type="password" name="password" id="password" placeholder="Entrez votre mot de passe">

            <button type="submit">Login</button>
        </form>

        <p><a href="{% url 'password_reset' %}">Mot de passe oublié ?</a></p>


        <!-- Connexion via Google -->
        <div class="google-login">
            <p>Ou connectez-vous avec Google :</p>
            <a href="{% provider_login_url 'google' process='login' %}">Connexion avec Google</a>
        </div>
{% endblock %}
