const seasonTags=JSON.parse(document.getElementById("season-tags-data").textContent);function savePreferences(){document.querySelectorAll('input[id$="_idee"]').forEach((input=>{localStorage.setItem(input.id,input.checked)}))}function loadPreferences(){document.querySelectorAll('input[id$="_idee"]').forEach((input=>{const savedValue=localStorage.getItem(input.id);null!==savedValue&&(input.checked="true"===savedValue)}))}function initSeasonTagLogic(){document.querySelectorAll('input[name$="_tags"]').forEach((checkbox=>{checkbox.addEventListener("change",(e=>{const clickedCheckbox=e.target,clickedTag=clickedCheckbox.value.toLowerCase();if(!seasonTags.includes(clickedTag))return;const groupName=clickedCheckbox.name;document.querySelectorAll(`input[name="${groupName}"]`).forEach((siblingCheckbox=>{if(siblingCheckbox===clickedCheckbox)return;const siblingTag=siblingCheckbox.value.toLowerCase();seasonTags.includes(siblingTag)&&(siblingCheckbox.checked=!1)}))}))}))}document.addEventListener("DOMContentLoaded",(event=>{const menuDataElement=document.getElementById("menu-data-to-save"),seasonTagsElement=document.getElementById("season-tags-data"),seasonTags=seasonTagsElement?JSON.parse(seasonTagsElement.textContent):[];if(menuDataElement){const menuData=JSON.parse(menuDataElement.textContent);localStorage.setItem("savedMenu",JSON.stringify(menuData));const redirectUrl=document.querySelector("form").dataset.redirectUrl;window.location.href=redirectUrl}else{loadPreferences(),seasonTags.length>0&&initSeasonTagLogic(seasonTags);document.querySelector("form").addEventListener("change",(e=>{e.target.id.endsWith("_idee")&&savePreferences()}))}}));